<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='ã€æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºè¿è¡Œæ‚¨çš„ä½œä¸šå¹¶å°†ç»“æœå‘é€å›ã€‚å®ƒä¸ç»“åˆä½¿ç”¨ï¼Œæ˜¯éšé™„çš„ç”¨äºåè°ƒä½œä¸šçš„å¼€æºæŒç»­é›†æˆæœåŠ¡ã€‚è¦æ±‚æ˜¯ç”¨ç¼–å†™çš„ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œï¼Œä¸éœ€è¦ç‰¹å®šäºè¯­è¨€çš„è¦æ±‚ã€‚å®ƒæ—¨åœ¨åœ¨ï¼Œå’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚'>
<title>GitLabé›†æˆgitlab-runner</title>

<link rel='canonical' href='https://www.ownit.top/p/202210311018/'>

<link rel="stylesheet" href="/scss/style.min.f8f67bed86aec9bc8e9eb410ba9583e51cb34eee82f3d10e0abbae72b51272ce.css"><meta property='og:title' content='GitLabé›†æˆgitlab-runner'>
<meta property='og:description' content='ã€æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºè¿è¡Œæ‚¨çš„ä½œä¸šå¹¶å°†ç»“æœå‘é€å›ã€‚å®ƒä¸ç»“åˆä½¿ç”¨ï¼Œæ˜¯éšé™„çš„ç”¨äºåè°ƒä½œä¸šçš„å¼€æºæŒç»­é›†æˆæœåŠ¡ã€‚è¦æ±‚æ˜¯ç”¨ç¼–å†™çš„ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œï¼Œä¸éœ€è¦ç‰¹å®šäºè¯­è¨€çš„è¦æ±‚ã€‚å®ƒæ—¨åœ¨åœ¨ï¼Œå’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚'>
<meta property='og:url' content='https://www.ownit.top/p/202210311018/'>
<meta property='og:site_name' content='å—å®«ä¹˜é£'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='gitlab' /><meta property='article:tag' content='è¿ç»´' /><meta property='article:published_time' content='2022-10-31T10:18:30&#43;00:00'/><meta property='article:modified_time' content='2022-10-31T10:18:30&#43;00:00'/><meta property='og:image' content='https://www.ownit.top/title_pic/17.jpg' />
<meta name="twitter:title" content="GitLabé›†æˆgitlab-runner">
<meta name="twitter:description" content="ã€æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºè¿è¡Œæ‚¨çš„ä½œä¸šå¹¶å°†ç»“æœå‘é€å›ã€‚å®ƒä¸ç»“åˆä½¿ç”¨ï¼Œæ˜¯éšé™„çš„ç”¨äºåè°ƒä½œä¸šçš„å¼€æºæŒç»­é›†æˆæœåŠ¡ã€‚è¦æ±‚æ˜¯ç”¨ç¼–å†™çš„ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œï¼Œä¸éœ€è¦ç‰¹å®šäºè¯­è¨€çš„è¦æ±‚ã€‚å®ƒæ—¨åœ¨åœ¨ï¼Œå’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://www.ownit.top/title_pic/17.jpg' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu227367ba8544f2fc7811ed9508937bec_102665_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">å—å®«ä¹˜é£</a></h1>
            <h2 class="site-description">å½“ä½ çš„æ‰åæ’‘ä¸èµ·ä½ çš„é‡å¿ƒæ—¶ï¼Œåªæœ‰é™ä¸‹å¿ƒå­¦ä¹ æ‰æ˜¯å”¯ä¸€çš„å‡ºè·¯</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://blog.csdn.net/heian_99'
                        target="_blank"
                        title="CSDN"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="32.000000pt" height="32.000000pt" viewBox="0 0 32.000000 32.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,32.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M0 160 l0 -160 160 0 160 0 0 160 0 160 -160 0 -160 0 0 -160z m225
108 c24 -11 34 -41 16 -52 -4 -3 -17 1 -27 9 -43 32 -95 3 -109 -62 -5 -27 -2
-37 19 -58 29 -29 62 -32 94 -9 25 17 42 11 42 -15 0 -27 -51 -45 -107 -38
-70 8 -97 42 -91 115 4 48 10 60 41 89 39 35 76 42 122 21z"/>
</g>
</svg>

                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/nangongchengfeng/'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='/index.xml'
                        target="_blank"
                        title="RSS"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" encoding="iso-8859-1"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 455.731 455.731" xml:space="preserve">
<g>
	<rect x="0" y="0" style="fill:#F78422;" width="455.731" height="455.731"/>
	<g>
		<path style="fill:#FFFFFF;" d="M296.208,159.16C234.445,97.397,152.266,63.382,64.81,63.382v64.348
			c70.268,0,136.288,27.321,185.898,76.931c49.609,49.61,76.931,115.63,76.931,185.898h64.348
			C391.986,303.103,357.971,220.923,296.208,159.16z"/>
		<path style="fill:#FFFFFF;" d="M64.143,172.273v64.348c84.881,0,153.938,69.056,153.938,153.939h64.348
			C282.429,270.196,184.507,172.273,64.143,172.273z"/>
		<circle style="fill:#FFFFFF;" cx="109.833" cy="346.26" r="46.088"/>
	</g>
</g>
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/link/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹é“¾</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>æš—è‰²æ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#è¦æ±‚">è¦æ±‚</a></li>
    <li><a href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></li>
  </ol>

  <ol>
    <li><a href="#1-ä½¿ç”¨gitlabå®˜æ–¹ä»“åº“å®‰è£…">1. ä½¿ç”¨GItLabå®˜æ–¹ä»“åº“å®‰è£…</a></li>
    <li><a href="#2-linuxä¸Šæ‰‹åŠ¨å®‰è£…gitlab-runner">2. Linuxä¸Šæ‰‹åŠ¨å®‰è£…GitLab Runner</a>
      <ol>
        <li><a href="#é€šè¿‡debæˆ–rpmè½¯ä»¶åŒ…">é€šè¿‡<code>deb</code>æˆ–<code>rpm</code>è½¯ä»¶åŒ…</a></li>
        <li><a href="#ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶å®˜æ–¹æ¨è">ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶(å®˜æ–¹æ¨è)</a></li>
      </ol>
    </li>
    <li><a href="#3-åœ¨å®¹å™¨ä¸­è¿è¡Œgitlab-runner">3. åœ¨å®¹å™¨ä¸­è¿è¡ŒGitLab Runner</a></li>
  </ol>

  <ol>
    <li><a href="#gitlabrunner-ç±»å‹">GitLabRunner ç±»å‹</a></li>
    <li><a href="#è·å–runner-token">è·å–runner token</a></li>
    <li><a href="#è¿›è¡Œæ³¨å†Œ">è¿›è¡Œæ³¨å†Œ</a>
      <ol>
        <li><a href="#æ–¹å¼1-å¯åŠ¨å®¹å™¨äº¤äº’å¼æ³¨å†Œ">æ–¹å¼1ï¼š å¯åŠ¨å®¹å™¨äº¤äº’å¼æ³¨å†Œ</a></li>
        <li><a href="#æ–¹å¼2ç›´æ¥æ³¨å†Œ">æ–¹å¼2ï¼šç›´æ¥æ³¨å†Œ</a></li>
      </ol>
    </li>
    <li><a href="#å…¶ä»–å˜é‡">å…¶ä»–å˜é‡</a></li>
    <li><a href="#docker-runneræ‰§è¡Œå™¨">Docker runneræ‰§è¡Œå™¨</a></li>
  </ol>

  <ol>
    <li><a href="#å¯åŠ¨å‘½ä»¤">å¯åŠ¨å‘½ä»¤</a></li>
    <li><a href="#æ³¨å†Œå‘½ä»¤">æ³¨å†Œå‘½ä»¤</a></li>
    <li><a href="#æœåŠ¡ç®¡ç†">æœåŠ¡ç®¡ç†</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/202210311018/">
                
                    <img src="/../../title_pic/17.jpg" loading="lazy" alt="Featured image of post GitLabé›†æˆgitlab-runner" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" >
                é¡¹ç›®å®æˆ˜
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/202210311018/">GitLabé›†æˆgitlab-runner</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            ã€æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºè¿è¡Œæ‚¨çš„ä½œä¸šå¹¶å°†ç»“æœå‘é€å›ã€‚å®ƒä¸ç»“åˆä½¿ç”¨ï¼Œæ˜¯éšé™„çš„ç”¨äºåè°ƒä½œä¸šçš„å¼€æºæŒç»­é›†æˆæœåŠ¡ã€‚è¦æ±‚æ˜¯ç”¨ç¼–å†™çš„ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œï¼Œä¸éœ€è¦ç‰¹å®šäºè¯­è¨€çš„è¦æ±‚ã€‚å®ƒæ—¨åœ¨åœ¨ï¼Œå’Œæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 31, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 12 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="1gitlab-runner">1ã€Gitlab-runner</h1>
<p>â€‹GitLab Runneræ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºè¿è¡Œæ‚¨çš„ä½œä¸šå¹¶å°†ç»“æœå‘é€å›GitLabã€‚å®ƒä¸GitLab CIç»“åˆä½¿ç”¨ï¼ŒGitLab CIæ˜¯GitLabéšé™„çš„ç”¨äºåè°ƒä½œä¸šçš„å¼€æºæŒç»­é›†æˆæœåŠ¡ã€‚â€‹</p>
<h2 id="è¦æ±‚">è¦æ±‚</h2>
<p>GitLab Runneræ˜¯ç”¨Goç¼–å†™çš„ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¿è¡Œï¼Œä¸éœ€è¦ç‰¹å®šäºè¯­è¨€çš„è¦æ±‚ã€‚å®ƒæ—¨åœ¨åœ¨GNU / Linuxï¼ŒmacOSå’ŒWindowsæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚åªè¦æ‚¨å¯ä»¥åœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šç¼–è¯‘GoäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿå°±å¯èƒ½ä¼šè¿è¡Œã€‚</p>
<p>å¦‚æœè¦ä½¿ç”¨Dockerï¼Œè¯·å®‰è£…æœ€æ–°ç‰ˆæœ¬ã€‚GitLab Runneréœ€è¦æœ€å°‘çš„Docker v1.13.0ã€‚</p>
<p>GitLab Runnerç‰ˆæœ¬åº”ä¸GitLabç‰ˆæœ¬åŒæ­¥ã€‚å°½ç®¡è¾ƒæ—§çš„Runnerä»å¯ä»¥ä½¿ç”¨è¾ƒæ–°çš„GitLabç‰ˆæœ¬ï¼Œåä¹‹äº¦ç„¶ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœç‰ˆæœ¬å­˜åœ¨å·®å¼‚ï¼Œåˆ™åŠŸèƒ½å¯èƒ½ä¸å¯ç”¨æˆ–æ— æ³•æ­£å¸¸å·¥ä½œã€‚åœ¨æ¬¡è¦ç‰ˆæœ¬æ›´æ–°ä¹‹é—´å¯ä»¥ä¿è¯å‘åå…¼å®¹æ€§ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼ŒGitLabçš„æ¬¡è¦ç‰ˆæœ¬æ›´æ–°ä¼šå¼•å…¥æ–°åŠŸèƒ½ï¼Œè¿™äº›æ–°åŠŸèƒ½å°†è¦æ±‚Runneråœ¨åŒä¸€æ¬¡è¦ç‰ˆæœ¬ä¸Šä½¿ç”¨ã€‚</p>
<h2 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h2>
<ul>
<li>
<p><strong>å…è®¸è¿è¡Œï¼š</strong></p>
<ul>
<li>
<p><strong>åŒæ—¶æ‰§è¡Œå¤šä¸ªä½œä¸šã€‚</strong></p>
</li>
<li>
<p><strong>å¯¹å¤šä¸ªæœåŠ¡å™¨ï¼ˆç”šè‡³æ¯ä¸ªé¡¹ç›®ï¼‰ä½¿ç”¨å¤šä¸ªä»¤ç‰Œã€‚</strong></p>
</li>
<li>
<p><strong>é™åˆ¶æ¯ä¸ªä»¤ç‰Œçš„å¹¶è¡Œä½œä¸šæ•°ã€‚</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>å¯ä»¥è¿è¡Œä½œä¸šï¼š</strong></p>
<ul>
<li>
<p><strong>åœ¨æœ¬åœ°ã€‚</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨Dockerå®¹å™¨ã€‚</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨Dockerå®¹å™¨å¹¶é€šè¿‡SSHæ‰§è¡Œä½œä¸šã€‚</strong></p>
</li>
<li>
<p><strong>ä½¿ç”¨Dockerå®¹å™¨åœ¨ä¸åŒçš„äº‘å’Œè™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºä¸Šè‡ªåŠ¨ç¼©æ”¾ã€‚</strong></p>
</li>
<li>
<p><strong>è¿æ¥åˆ°è¿œç¨‹SSHæœåŠ¡å™¨ã€‚</strong></p>
</li>
</ul>
</li>
<li>
<p><strong>ç”¨Goç¼–å†™å¹¶ä»¥å•ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„å½¢å¼åˆ†å‘ï¼Œè€Œæ²¡æœ‰å…¶ä»–è¦æ±‚ã€‚</strong></p>
</li>
<li>
<p><strong>æ”¯æŒBashï¼ŒWindows Batchå’ŒWindows PowerShellã€‚</strong></p>
</li>
<li>
<p><strong>åœ¨GNU / Linuxï¼ŒmacOSå’ŒWindowsï¼ˆå‡ ä¹å¯ä»¥åœ¨ä»»ä½•å¯ä»¥è¿è¡ŒDockerçš„åœ°æ–¹ï¼‰ä¸Šè¿è¡Œã€‚</strong></p>
</li>
<li>
<p><strong>å…è®¸è‡ªå®šä¹‰ä½œä¸šè¿è¡Œç¯å¢ƒã€‚</strong></p>
</li>
<li>
<p><strong>è‡ªåŠ¨é‡æ–°åŠ è½½é…ç½®ï¼Œæ— éœ€é‡å¯ã€‚</strong></p>
</li>
<li>
<p><strong>æ˜“äºä½¿ç”¨çš„è®¾ç½®ï¼Œå¹¶æ”¯æŒDockerï¼ŒDocker-SSHï¼ŒParallelsæˆ–SSHè¿è¡Œç¯å¢ƒã€‚</strong></p>
</li>
<li>
<p><strong>å¯ç”¨Dockerå®¹å™¨çš„ç¼“å­˜ã€‚</strong></p>
</li>
<li>
<p><strong>æ˜“äºå®‰è£…ï¼Œå¯ä½œä¸ºGNU / Linuxï¼ŒmacOSå’ŒWindowsçš„æœåŠ¡ã€‚</strong></p>
</li>
<li>
<p><strong>åµŒå…¥å¼PrometheusæŒ‡æ ‡HTTPæœåŠ¡å™¨ã€‚</strong></p>
</li>
<li>
<p><strong>è£åˆ¤å·¥ä½œè€…ç›‘è§†Prometheusåº¦é‡æ ‡å‡†å’Œå…¶ä»–ç‰¹å®šäºå·¥ä½œçš„æ•°æ®å¹¶å°†å…¶ä¼ é€’ç»™GitLabã€‚</strong></p>
</li>
</ul>
<h1 id="2gitlab-runnerå®‰è£…">2ã€GitLab Runnerå®‰è£…</h1>
<p><strong>å¯ä»¥åœ¨GNU / Linuxï¼ŒmacOSï¼ŒFreeBSDå’ŒWindowsä¸Š</strong>â€‹<a class="link" href="https://docs.gitlab.com/12.8/runner/install/index.html"  title="å®‰è£…"
     target="_blank" rel="noopener"
    >å®‰è£…</a>å’Œä½¿ç”¨GitLab Runner ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Dockerå®‰è£…å®ƒï¼Œæ‰‹åŠ¨ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨GitLabæä¾›çš„rpm / debè½¯ä»¶åŒ…çš„å­˜å‚¨åº“ã€‚</p>
<h2 id="1-ä½¿ç”¨gitlabå®˜æ–¹ä»“åº“å®‰è£…">1. ä½¿ç”¨GItLabå®˜æ–¹ä»“åº“å®‰è£…</h2>
<ul>
<li>
<p><strong>é‡ç‚¹æŒæ¡CentOSç³»ç»Ÿçš„å®‰è£…æ–¹å¼</strong></p>
</li>
<li>
<p><strong>é‡ç‚¹æŒæ¡Ubuntuç³»ç»Ÿçš„å®‰è£…æ–¹å¼</strong></p>
</li>
</ul>
<p>æˆ‘ä»¬æä¾›Debianï¼ŒUbuntuï¼ŒMintï¼ŒRHELï¼ŒFedoraå’ŒCentOSå½“å‰å—æ”¯æŒç‰ˆæœ¬çš„è½¯ä»¶åŒ…ã€‚</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>Distribution</strong></th>
<th><strong>Version</strong></th>
<th><strong>End of Life date</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Debian</strong></td>
<td><strong>stretch</strong></td>
<td><strong>approx. 2022</strong></td>
</tr>
<tr>
<td><strong>Debian</strong></td>
<td><strong>jessie</strong></td>
<td><strong>June 2020</strong></td>
</tr>
<tr>
<td><strong>Ubuntu</strong></td>
<td><strong>bionic</strong></td>
<td><strong>April 2023</strong></td>
</tr>
<tr>
<td><strong>Ubuntu</strong></td>
<td><strong>xenial</strong></td>
<td><strong>April 2021</strong></td>
</tr>
<tr>
<td><strong>Mint</strong></td>
<td><strong>sonya</strong></td>
<td><strong>approx. 2021</strong></td>
</tr>
<tr>
<td><strong>Mint</strong></td>
<td><strong>serena</strong></td>
<td><strong>approx. 2021</strong></td>
</tr>
<tr>
<td><strong>Mint</strong></td>
<td><strong>sarah</strong></td>
<td><strong>approx. 2021</strong></td>
</tr>
<tr>
<td><strong>RHEL/CentOS</strong></td>
<td><strong>7</strong></td>
<td><strong>June 2024</strong></td>
</tr>
<tr>
<td><strong>RHEL/CentOS</strong></td>
<td><strong>6</strong></td>
<td><strong>November 2020</strong></td>
</tr>
<tr>
<td><strong>Fedora</strong></td>
<td><strong>29</strong></td>
<td><strong>approx. November 2019</strong></td>
</tr>
</tbody>
</table></div>
<p>Add GitLabâ€™s official repository: æ·»åŠ å®˜æ–¹ä»“åº“</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># For Debian/Ubuntu/Mint</span>
</span></span><span class="line"><span class="cl">curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh <span class="p">|</span> sudo bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># For RHEL/CentOS/Fedora</span>
</span></span><span class="line"><span class="cl">curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh <span class="p">|</span> sudo bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>Install the latest version of GitLab Runner: å®‰è£…æœ€æ–°ç‰ˆæœ¬</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># For Debian/Ubuntu/Mint</span>
</span></span><span class="line"><span class="cl">sudo apt-get install gitlab-runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># For RHEL/CentOS/Fedora</span>
</span></span><span class="line"><span class="cl">sudo yum install gitlab-runner
</span></span></code></pre></td></tr></table>
</div>
</div><p>To install a specific version of GitLab Runner: å®‰è£…æŒ‡å®šç‰ˆæœ¬</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># for DEB based systems</span>
</span></span><span class="line"><span class="cl">apt-cache madison gitlab-runner
</span></span><span class="line"><span class="cl">sudo apt-get install gitlab-runner<span class="o">=</span>10.0.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># for RPM based systems</span>
</span></span><span class="line"><span class="cl">yum list gitlab-runner --showduplicates <span class="p">|</span> sort -r
</span></span><span class="line"><span class="cl">sudo yum install gitlab-runner-10.0.0-1
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ›´æ–°runner</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># For Debian/Ubuntu/Mint</span>
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install gitlab-runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># For RHEL/CentOS/Fedora</span>
</span></span><span class="line"><span class="cl">sudo yum update
</span></span><span class="line"><span class="cl">sudo yum install gitlab-runner
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2-linuxä¸Šæ‰‹åŠ¨å®‰è£…gitlab-runner">2. Linuxä¸Šæ‰‹åŠ¨å®‰è£…GitLab Runner</h2>
<p><strong>å¦‚æœæ‚¨ä¸èƒ½ä½¿ç”¨</strong>â€‹<a class="link" href="https://docs.gitlab.com/12.6/runner/install/linux-repository.html"  title="deb / rpmå­˜å‚¨åº“"
     target="_blank" rel="noopener"
    >deb / rpmå­˜å‚¨åº“</a>å®‰è£…GitLab Runnerï¼Œæˆ–è€…æ‚¨çš„GNU / Linuxæ“ä½œç³»ç»Ÿä¸åœ¨æ”¯æŒçš„ç‰ˆæœ¬ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸€ç§æ–¹æ³•æ‰‹åŠ¨å®‰è£…å®ƒï¼Œè¿™æ˜¯æœ€åçš„é€‰æ‹©ã€‚</p>
<h3 id="é€šè¿‡debæˆ–rpmè½¯ä»¶åŒ…">é€šè¿‡<code>deb</code>æˆ–<code>rpm</code>è½¯ä»¶åŒ…</h3>
<p><strong>ä¸‹è½½è½¯ä»¶åŒ…</strong></p>
<ol>
<li>
<p><strong>åœ¨</strong>â€‹<a class="link" href="https://gitlab-runner-downloads.s3.amazonaws.com/latest/index.html"  title="https://gitlab-runner-downloads.s3.amazonaws.com/latest/index.htmlä¸Š"
     target="_blank" rel="noopener"
    >https://gitlab-runner-downloads.s3.amazonaws.com/latest/index.htmlä¸Š</a>æ‰¾åˆ°æœ€æ–°çš„æ–‡ä»¶åå’Œé€‰é¡¹ ã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬å¹¶ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚æ–‡æ¡£æ‰€è¿°ï¼Œè¯¥æ–‡ä»¶ç”¨äº</strong>â€‹<a class="link" href="https://docs.gitlab.com/12.6/runner/install/bleeding-edge.html#download-any-other-tagged-release"  title="ä¸‹è½½ä»»ä½•å…¶ä»–æ ‡è®°çš„"
     target="_blank" rel="noopener"
    >ä¸‹è½½ä»»ä½•å…¶ä»–æ ‡è®°çš„</a> GitLab Runnerå‘è¡Œç‰ˆã€‚</p>
</li>
</ol>
<p>ä¾‹å¦‚ï¼Œå¯¹äºDebianæˆ–Ubuntuï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -LJO https://gitlab-runner-downloads.s3.amazonaws.com/latest/deb/gitlab-runner_&lt;arch&gt;.deb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">dpkg -i gitlab-runner_&lt;arch&gt;.deb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">dpkg -i gitlab-runner_&lt;arch&gt;.deb
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¾‹å¦‚ï¼Œå¯¹äºCentOSæˆ–Red Hat Enterprise Linuxï¼š</p>
<p>â€‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -LJO https://gitlab-runner-downloads.s3.amazonaws.com/latest/rpm/gitlab-runner_&lt;arch&gt;.rpm
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">rpm -i gitlab-runner_&lt;arch&gt;.rpm
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">rpm -Uvh gitlab-runner_&lt;arch&gt;.rpm
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶å®˜æ–¹æ¨è">ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶(å®˜æ–¹æ¨è)</h3>
<p><strong>å‚è€ƒåœ°å€ï¼š</strong> <a class="link" href="https://docs.gitlab.com/12.6/runner/install/bleeding-edge.html#download-any-other-tagged-release"  target="_blank" rel="noopener"
    >https://docs.gitlab.com/12.6/runner/install/bleeding-edge.html#download-any-other-tagged-release</a></p>
<p><strong>ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ï¼š å°†ä¸Šé¢URLä¸­çš„lateståˆ‡æ¢ä¸º v12.6ã€‚</strong></p>
<p>â€‹</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Linux x86-64</span>
</span></span><span class="line"><span class="cl">sudo curl -L --output /usr/local/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Linux x86</span>
</span></span><span class="line"><span class="cl">sudo curl -L --output /usr/local/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-386
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Linux arm</span>
</span></span><span class="line"><span class="cl">sudo curl -L --output /usr/local/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-arm
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Linux arm64</span>
</span></span><span class="line"><span class="cl">sudo curl -L --output /usr/local/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-arm64
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ·»åŠ æ‰§è¡Œæƒé™</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chmod +x /usr/local/bin/gitlab-runner
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ›å»ºä¸€ä¸ªgitlabç”¨æˆ·</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo useradd --comment <span class="s1">&#39;GitLab Runner&#39;</span> --create-home gitlab-runner --shell /bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®‰è£…å¹¶ä½œä¸ºæœåŠ¡è¿è¡Œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo gitlab-runner install --user<span class="o">=</span>gitlab-runner --working-directory<span class="o">=</span>/home/gitlab-runner
</span></span><span class="line"><span class="cl">sudo gitlab-runner start
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ›´æ–°</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#åœæ­¢æœåŠ¡</span>
</span></span><span class="line"><span class="cl">sudo gitlab-runner stop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#ä¸‹è½½æ–°ç‰ˆæœ¬äºŒè¿›åˆ¶åŒ…</span>
</span></span><span class="line"><span class="cl">sudo curl -L --output /usr/local/bin/gitlab-runner https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-linux-amd64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#èµ‹äºˆæ‰§è¡Œæƒé™</span>
</span></span><span class="line"><span class="cl">sudo chmod +x /usr/local/bin/gitlab-runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#å¯åŠ¨æœåŠ¡</span>
</span></span><span class="line"><span class="cl">sudo gitlab-runner start
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/../../image/5d6c25f9f0614c63a3438c2734ddcf7e.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â </p>
<h2 id="3-åœ¨å®¹å™¨ä¸­è¿è¡Œgitlab-runner">3. åœ¨å®¹å™¨ä¸­è¿è¡ŒGitLab Runner</h2>
<p>Â  Â  Â  Â </p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -t -id -v ~/data/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v12.6.0 
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="3gitlab-runneræ³¨å†Œ">3ã€GitLab Runneræ³¨å†Œ</h1>
<p>**å‚è€ƒé“¾æ¥ï¼š**â€‹<a class="link" href="https://help.aliyun.com/document_detail/106968.html#title-xfl-dp6-kta"  title="ä½¿ç”¨GitLab CIè¿è¡ŒGitLab Runnerå¹¶æ‰§è¡ŒPipeline"
     target="_blank" rel="noopener"
    >ä½¿ç”¨GitLab CIè¿è¡ŒGitLab Runnerå¹¶æ‰§è¡ŒPipeline</a></p>
<p><strong>å¤§æ¦‚è¿‡ç¨‹ï¼š è·å–runner token -&gt; è¿›è¡Œæ³¨å†Œ</strong></p>
<h2 id="gitlabrunner-ç±»å‹">GitLabRunner ç±»å‹</h2>
<ul>
<li>
<p><strong>shared ï¼š è¿è¡Œæ•´ä¸ªå¹³å°é¡¹ç›®çš„ä½œä¸šï¼ˆgitlabï¼‰</strong></p>
</li>
<li>
<p><strong>groupï¼š è¿è¡Œç‰¹å®šgroupä¸‹çš„æ‰€æœ‰é¡¹ç›®çš„ä½œä¸šï¼ˆgroupï¼‰</strong></p>
</li>
<li>
<p><strong>specific: è¿è¡ŒæŒ‡å®šçš„é¡¹ç›®ä½œä¸šï¼ˆprojectï¼‰</strong></p>
</li>
<li>
<p><strong>lockedï¼š æ— æ³•è¿è¡Œé¡¹ç›®ä½œä¸š</strong></p>
</li>
<li>
<p><strong>pausedï¼š ä¸ä¼šè¿è¡Œä½œä¸š</strong></p>
</li>
</ul>
<h2 id="è·å–runner-token">è·å–runner token</h2>
<p><strong>è·å–sharedç±»å‹runnertoken</strong></p>
<p><strong>è¿›å…¥ç³»ç»Ÿè®¾ç½® -&gt; Runners</strong></p>
<p><img src="/../../image/28eb9f30fb9143aaaa4556fb6007427d.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â </p>
<p><strong>è·å–groupç±»å‹çš„runnertoken</strong></p>
<p><strong>è¿›å…¥group -&gt; Settings -&gt; CI/CD -&gt; Runners -&gt; Group Runners</strong></p>
<p><img src="/../../image/860757647b324183bd637ac38a065a62.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â </p>
<p><strong>è·å–specificç±»å‹çš„runnertoken</strong></p>
<p><strong>è¿›å…¥å…·ä½“çš„é¡¹ç›® -&gt; Settings -&gt; CI/CD -&gt; Runners -&gt; Specific Runners</strong></p>
<p><img src="/../../image/48e3b6ff4d9b40a39cda82d98a9a33a2.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â </p>
<h2 id="è¿›è¡Œæ³¨å†Œ">è¿›è¡Œæ³¨å†Œ</h2>
<h3 id="æ–¹å¼1-å¯åŠ¨å®¹å™¨äº¤äº’å¼æ³¨å†Œ">æ–¹å¼1ï¼š å¯åŠ¨å®¹å™¨äº¤äº’å¼æ³¨å†Œ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -t -i -v ~/data/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v12.6.0 register
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Runtime platform                                    <span class="nv">arch</span><span class="o">=</span>amd64 <span class="nv">os</span><span class="o">=</span>linux <span class="nv">pid</span><span class="o">=</span><span class="m">6</span> <span class="nv">revision</span><span class="o">=</span>ac8e767a <span class="nv">version</span><span class="o">=</span>12.6.0
</span></span><span class="line"><span class="cl">Running in system-mode.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci coordinator URL <span class="o">(</span>e.g. https://gitlab.com/<span class="o">)</span>: <span class="c1">#gitlabåœ°å€</span>
</span></span><span class="line"><span class="cl">http://192.168.1.105
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci token <span class="k">for</span> this runner: <span class="c1">#gitlab-runnerçš„token</span>
</span></span><span class="line"><span class="cl">4tutaeWWL3srNEcmHs1s
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci description <span class="k">for</span> this runner: <span class="c1">#gitlab-runnerçš„æè¿°</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>00e4f023b5ae<span class="o">]</span>: devops-service-runner
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci tags <span class="k">for</span> this runner <span class="o">(</span>comma separated<span class="o">)</span>: <span class="c1">#gitlab-runnerçš„ æ ‡ç­¾</span>
</span></span><span class="line"><span class="cl">build
</span></span><span class="line"><span class="cl">Registering runner... succeeded                     <span class="nv">runner</span><span class="o">=</span>4tutaeWW
</span></span><span class="line"><span class="cl">Please enter the executor: parallels, virtualbox, docker-ssh+machine, kubernetes, docker+machine, custom, docker, docker-ssh, shell, ssh: <span class="c1">#gitlab-runnerçš„è¿è¡Œçš„æ–¹å¼</span>
</span></span><span class="line"><span class="cl">shell
</span></span><span class="line"><span class="cl">Runner registered successfully. Feel free to start it, but <span class="k">if</span> it<span class="err">&#39;</span>s running already the config should be automatically reloaded!
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ–¹å¼2ç›´æ¥æ³¨å†Œ">æ–¹å¼2ï¼šç›´æ¥æ³¨å†Œ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run --rm -v ~/data/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v12.6.0 register <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --non-interactive <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --executor <span class="s2">&#34;docker&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --docker-image alpine:latest <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="s2">&#34;http://192.168.1.200:30088/&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --registration-token <span class="s2">&#34;JRzzw2j1Ji6aBjwvkxAv&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --description <span class="s2">&#34;docker-runner&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --tag-list <span class="s2">&#34;docker,aws&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --run-untagged<span class="o">=</span><span class="s2">&#34;true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --locked<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --access-level<span class="o">=</span><span class="s2">&#34;not_protected&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -it --rm -v ~/data/gitlab-runner/config:/etc/gitlab-runner gitlab/gitlab-runner:v12.6.0 register <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --non-interactive <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --executor <span class="s2">&#34;shell&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="s2">&#34;http://gitlab.devops.com&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --registration-token <span class="s2">&#34;FZwnmCacrXfk37yZzfNJ&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --description <span class="s2">&#34;devops-runner&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --tag-list <span class="s2">&#34;build,deploy&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --run-untagged<span class="o">=</span><span class="s2">&#34;true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --locked<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --access-level<span class="o">=</span><span class="s2">&#34;not_protected&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -itd --rm -v ~/data/gitlab-runner/config:/etc/gitlab-runner  gitlab/gitlab-runner:v12.6.0 register <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --non-interactive <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --executor <span class="s2">&#34;shell&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="s2">&#34;http://192.168.1.200:30088/&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --registration-token <span class="s2">&#34;JRzzw2j1Ji6aBjwvkxAv&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --description <span class="s2">&#34;devops-runner&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --tag-list <span class="s2">&#34;build,deploy&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --run-untagged<span class="o">=</span><span class="s2">&#34;true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --locked<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --access-level<span class="o">=</span><span class="s2">&#34;not_protected&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç¯å¢ƒä½¿ç”¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#uat dev fat ç¯å¢ƒ</span>
</span></span><span class="line"><span class="cl">gitlab-runner register <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --non-interactive <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --executor <span class="s2">&#34;shell&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="s2">&#34;http://172.17.20.20:8200/&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --registration-token <span class="s2">&#34;HH5ey1cfWis5UsByz1hs&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --description <span class="s2">&#34;devops-runner&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --tag-list <span class="s2">&#34;dev,fat,uat&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --run-untagged<span class="o">=</span><span class="s2">&#34;true&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --locked<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --access-level<span class="o">=</span><span class="s2">&#34;not_protected&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="c1"># prod ç¯å¢ƒ</span>
</span></span><span class="line"><span class="cl">  gitlab-runner register <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --non-interactive <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --executor <span class="s2">&#34;shell&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --url <span class="s2">&#34;https://gitlab.ownit.top/&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --registration-token <span class="s2">&#34;uExfDik6eNLMzEzpnmD8&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --description <span class="s2">&#34;prod&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --tag-list <span class="s2">&#34;prod&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --run-untagged<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --locked<span class="o">=</span><span class="s2">&#34;false&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --access-level<span class="o">=</span><span class="s2">&#34;not_protected&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/../../image/b269b4bfdc6d4c4e850c934b446dcb18.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>Â </p>
<h2 id="å…¶ä»–å˜é‡">å…¶ä»–å˜é‡</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">   -c value, --config value                                     æŒ‡å®šé…ç½®æ–‡ä»¶
</span></span><span class="line"><span class="cl">   --template-config value                                      æŒ‡å®šæ¨¡æ¿é…ç½®æ–‡ä»¶
</span></span><span class="line"><span class="cl">   --tag-list value                                             æŒ‡å®šrunnerçš„æ ‡ç­¾åˆ—è¡¨ï¼Œé€—å·åˆ†éš”
</span></span><span class="line"><span class="cl">   -n, --non-interactive                                        æ— äº¤äº’è¿›è¡Œrunneræ³¨å†Œ 
</span></span><span class="line"><span class="cl">   --leave-runner                                               å¦‚æœæ³¨å†Œå¤±è´¥ï¼Œä¸ç”¨åˆ é™¤runner 
</span></span><span class="line"><span class="cl">   -r value, --registration-token value                         runnerçš„æ³¨å†Œtoken
</span></span><span class="line"><span class="cl">   --run-untagged                              æ³¨å†Œè¿è¡ŒæœªåŠ æ ‡ç­¾çš„æ„å»ºï¼Œé»˜è®¤å½“æ ‡ç­¾åˆ—è¡¨ä¸ºç©ºæ—¶å€¼ä¸ºtrue
</span></span><span class="line"><span class="cl">   --locked                                                     é”å®šrunner é»˜è®¤true
</span></span><span class="line"><span class="cl">   --access-level value        è®¾ç½®è®¿é—®ç­‰çº§ not_protected or ref_protected<span class="p">;</span> é»˜è®¤ not_protected 
</span></span><span class="line"><span class="cl">   --maximum-timeout value                             ä¸ºä½œä¸šè®¾ç½®æœ€å¤§è¿è¡Œè¶…æ—¶æ—¶é—´ é»˜è®¤é›¶ å•ä½ç§’
</span></span><span class="line"><span class="cl">   --paused                                            è®¾ç½®runnerä¸º paused,é»˜è®¤ <span class="s1">&#39;false&#39;</span> 
</span></span><span class="line"><span class="cl">   --name value, --description value                            Runner åç§° 
</span></span><span class="line"><span class="cl">   --limit value                                       ç¨‹åºå¤„ç†çš„æœ€å¤§æ„å»ºæ•°é‡default: <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">   --output-limit value                                æœ€å¤§çš„æ„å»ºå¤§å°å•ä½kb default: <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">   --request-concurrency value                         ä½œä¸šè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•° default: <span class="s2">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">   -u value, --url value                                        GitlabCIæœåŠ¡å™¨åœ°å€
</span></span><span class="line"><span class="cl">   -t value, --token value                                      GitlabCIæœåŠ¡å™¨token
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@82948f0a37e3:/# gitlab-runner register --help
</span></span><span class="line"><span class="cl">Runtime platform                                    <span class="nv">arch</span><span class="o">=</span>amd64 <span class="nv">os</span><span class="o">=</span>linux <span class="nv">pid</span><span class="o">=</span><span class="m">168</span> <span class="nv">revision</span><span class="o">=</span>ac8e767a <span class="nv">version</span><span class="o">=</span>12.6.0
</span></span><span class="line"><span class="cl">NAME:
</span></span><span class="line"><span class="cl">   gitlab-runner register - register a new runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE:
</span></span><span class="line"><span class="cl">   gitlab-runner register <span class="o">[</span><span class="nb">command</span> options<span class="o">]</span> <span class="o">[</span>arguments...<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">OPTIONS:
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   --tls-ca-file value                                          File containing the certificates to verify the peer when using HTTPS <span class="o">[</span><span class="nv">$CI_SERVER_TLS_CA_FILE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --tls-cert-file value                                        File containing certificate <span class="k">for</span> TLS client auth when using HTTPS <span class="o">[</span><span class="nv">$CI_SERVER_TLS_CERT_FILE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --tls-key-file value                                         File containing private key <span class="k">for</span> TLS client auth when using HTTPS <span class="o">[</span><span class="nv">$CI_SERVER_TLS_KEY_FILE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   --executor value                                             é€‰æ‹©æ‰§è¡Œå™¨ï¼Œä¾‹å¦‚shellï¼Œdocker 
</span></span><span class="line"><span class="cl">   --builds-dir value                                           è®¾ç½®æ„å»ºå­˜å‚¨ç›®å½•
</span></span><span class="line"><span class="cl">   --cache-dir value                                            è®¾ç½®æ„å»ºç¼“å­˜ç›®å½•
</span></span><span class="line"><span class="cl">   --clone-url value                                            è¦†ç›–é»˜è®¤é€šè¿‡gitå…‹éš†çš„URL
</span></span><span class="line"><span class="cl">   --env value                                                  æ³¨å…¥è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ä»¥æ„å»ºç¯å¢ƒ
</span></span><span class="line"><span class="cl">   --pre-clone-script value                           åœ¨æå–ä»£ç ä¹‹å‰æ‰§è¡Œçš„ç‰¹å®šäºè¿è¡Œç¨‹åºçš„å‘½ä»¤è„šæœ¬
</span></span><span class="line"><span class="cl">   --pre-build-script value              ç‰¹å®šäºè¿è¡Œç¨‹åºçš„å‘½ä»¤è„šæœ¬ï¼Œåœ¨æå–ä»£ç ä¹‹åï¼Œåœ¨æ„å»ºæ‰§è¡Œä¹‹å‰æ‰§è¡Œ
</span></span><span class="line"><span class="cl">   --post-build-script value            ç‰¹å®šäºè¿è¡Œç¨‹åºçš„å‘½ä»¤è„šæœ¬ï¼Œåœ¨æå–ä»£ç åä»¥åŠåœ¨æ„å»ºæ‰§è¡Œåç«‹å³æ‰§è¡Œ
</span></span><span class="line"><span class="cl">   --debug-trace-disabled               è®¾ç½®ä¸ºtrueæ—¶ï¼ŒRunnerå°†ç¦ç”¨ä½¿ç”¨CI_DEBUG_TRACEåŠŸèƒ½çš„å¯èƒ½æ€§                      
</span></span><span class="line"><span class="cl">   --shell value                        é€‰æ‹© bash, cmd or powershell <span class="o">[</span><span class="nv">$RUNNER_SHELL</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom_build_dir-enabled           å¯ç”¨ä½œä¸šç‰¹å®šçš„æ„å»ºç›®å½•<span class="o">[</span><span class="nv">$CUSTOM_BUILD_DIR_ENABLED</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --ssh-user value                                             sshç”¨æˆ·åç§° <span class="o">[</span><span class="nv">$SSH_USER</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --ssh-password value                                         sshç”¨æˆ·å¯†ç <span class="o">[</span><span class="nv">$SSH_PASSWORD</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --ssh-host value                                             sshè¿œç¨‹ä¸»æœº<span class="o">[</span><span class="nv">$SSH_HOST</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --ssh-port value                                             sshè¿œç¨‹ä¸»æœºç«¯å£ <span class="o">[</span><span class="nv">$SSH_PORT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --ssh-identity-file value                               sshè®¤è¯æ–‡ä»¶ <span class="o">[</span><span class="nv">$SSH_IDENTITY_FILE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   --docker-host value                                          Dockerä¸»æœºåœ°å€ <span class="o">[</span><span class="nv">$DOCKER_HOST</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cert-path value                                Dockerè¯ä¹¦è·¯å¾„ <span class="o">[</span><span class="nv">$DOCKER_CERT_PATH</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-tlsverify                             Dockerä½¿ç”¨TLSå¹¶éªŒè¯è¿œç¨‹ <span class="o">[</span><span class="nv">$DOCKER_TLS_VERIFY</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-hostname value                                è‡ªå®šä¹‰å®¹å™¨ä¸»æœºåç§° <span class="o">[</span><span class="nv">$DOCKER_HOSTNAME</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-image value                                         å®šä¹‰Dockeré•œåƒ<span class="o">[</span><span class="nv">$DOCKER_IMAGE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-runtime value                        Docker runtime to be used <span class="o">[</span><span class="nv">$DOCKER_RUNTIME</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-memory value                   å†…å­˜é™åˆ¶ Unit <span class="o">[</span>b, k, m, or g<span class="o">]</span>  4M <span class="o">[</span><span class="nv">$DOCKER_MEMORY</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-memory-swap value å†…å­˜é™åˆ¶memory + swapï¼ŒUnit<span class="o">[</span>b, k, m, or g<span class="o">][</span><span class="nv">$DOCKER_MEMORY_SWAP</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-memory-reservation value                   å†…å­˜è½¯é™åˆ¶<span class="o">[</span><span class="nv">$DOCKER_MEMORY_RESERVATION</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cpuset-cpus value                                   cpué™åˆ¶<span class="o">[</span><span class="nv">$DOCKER_CPUSET_CPUS</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cpus value                                         cpuæ•°é‡ <span class="o">[</span><span class="nv">$DOCKER_CPUS</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cpu-shares value                 CPU shares <span class="o">(</span>default: <span class="s2">&#34;0&#34;</span><span class="o">)</span> <span class="o">[</span><span class="nv">$DOCKER_CPU_SHARES</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-dns value                                           A list of DNS servers <span class="k">for</span> the container to use <span class="o">[</span><span class="nv">$DOCKER_DNS</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-dns-search value                                    A list of DNS search domains <span class="o">[</span><span class="nv">$DOCKER_DNS_SEARCH</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-privileged                                          Give extended privileges to container <span class="o">[</span><span class="nv">$DOCKER_PRIVILEGED</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-disable-entrypoint-overwrite                        Disable the possibility <span class="k">for</span> a container to overwrite the default image entrypoint <span class="o">[</span><span class="nv">$DOCKER_DISABLE_ENTRYPOINT_OVERWRITE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-userns value                                        User namespace to use <span class="o">[</span><span class="nv">$DOCKER_USERNS_MODE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cap-add value                                       Add Linux capabilities <span class="o">[</span><span class="nv">$DOCKER_CAP_ADD</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-cap-drop value                                      Drop Linux capabilities <span class="o">[</span><span class="nv">$DOCKER_CAP_DROP</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-oom-kill-disable                                    Do not <span class="nb">kill</span> processes in a container <span class="k">if</span> an out-of-memory <span class="o">(</span>OOM<span class="o">)</span> error occurs <span class="o">[</span><span class="nv">$DOCKER_OOM_KILL_DISABLE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-oom-score-adjust value                              Adjust OOM score <span class="o">(</span>default: <span class="s2">&#34;0&#34;</span><span class="o">)</span> <span class="o">[</span><span class="nv">$DOCKER_OOM_SCORE_ADJUST</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-security-opt value                                  Security Options <span class="o">[</span><span class="nv">$DOCKER_SECURITY_OPT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-devices value                                       Add a host device to the container <span class="o">[</span><span class="nv">$DOCKER_DEVICES</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-disable-cache                                       Disable all container caching <span class="o">[</span><span class="nv">$DOCKER_DISABLE_CACHE</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --docker-volumes value                                       Bind-mount a volume and create it <span class="k">if</span> it doesn<span class="s1">&#39;t exist prior to mounting. Can be specified multiple times once per mountpoint, e.g. --docker-volumes &#39;</span>test0:/test0<span class="s1">&#39; --docker-volumes &#39;</span>test1:/test1<span class="s1">&#39; [$DOCKER_VOLUMES]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-volume-driver value                                 Volume driver to be used [$DOCKER_VOLUME_DRIVER]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-cache-dir value                                     Directory where to store caches [$DOCKER_CACHE_DIR]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-extra-hosts value                                   Add a custom host-to-IP mapping [$DOCKER_EXTRA_HOSTS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-volumes-from value                                  A list of volumes to inherit from another container [$DOCKER_VOLUMES_FROM]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-network-mode value                                  Add container to a custom network [$DOCKER_NETWORK_MODE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-links value                                         Add link to another container [$DOCKER_LINKS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-services value                                      Add service that is started with container [$DOCKER_SERVICES]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-wait-for-services-timeout value                     How long to wait for service startup (default: &#34;0&#34;) [$DOCKER_WAIT_FOR_SERVICES_TIMEOUT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-allowed-images value                                Whitelist allowed images [$DOCKER_ALLOWED_IMAGES]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-allowed-services value                              Whitelist allowed services [$DOCKER_ALLOWED_SERVICES]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-pull-policy value                                   Image pull policy: never, if-not-present, always [$DOCKER_PULL_POLICY]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-shm-size value                                      Shared memory size for docker images (in bytes) (default: &#34;0&#34;) [$DOCKER_SHM_SIZE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-tmpfs value                                         A toml table/json object with the format key=values. When set this will mount the specified path in the key as a tmpfs volume in the main container, using the options specified as key. For the supported options, see the documentation for the unix &#39;</span>mount<span class="s1">&#39; command (default: &#34;{}&#34;) [$DOCKER_TMPFS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-services-tmpfs value                                A toml table/json object with the format key=values. When set this will mount the specified path in the key as a tmpfs volume in all the service containers, using the options specified as key. For the supported options, see the documentation for the unix &#39;</span>mount<span class="s1">&#39; command (default: &#34;{}&#34;) [$DOCKER_SERVICES_TMPFS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-sysctls value                                       Sysctl options, a toml table/json object of key=value. Value is expected to be a string. (default: &#34;{}&#34;) [$DOCKER_SYSCTLS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --docker-helper-image value                                  [ADVANCED] Override the default helper image used to clone repos and upload artifacts [$DOCKER_HELPER_IMAGE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   
</span></span></span><span class="line"><span class="cl"><span class="s1">   --parallels-base-name value                                  VM name to be used [$PARALLELS_BASE_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --parallels-template-name value                              VM template to be created [$PARALLELS_TEMPLATE_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --parallels-disable-snapshots                                Disable snapshoting to speedup VM creation [$PARALLELS_DISABLE_SNAPSHOTS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --parallels-time-server value                                Timeserver to sync the guests time from. Defaults to time.apple.com [$PARALLELS_TIME_SERVER]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --virtualbox-base-name value                                 VM name to be used [$VIRTUALBOX_BASE_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --virtualbox-base-snapshot value                             Name or UUID of a specific VM snapshot to clone [$VIRTUALBOX_BASE_SNAPSHOT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --virtualbox-disable-snapshots                               Disable snapshoting to speedup VM creation [$VIRTUALBOX_DISABLE_SNAPSHOTS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-type value                                           Select caching method [$CACHE_TYPE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-path value                                           Name of the path to prepend to the cache URL [$CACHE_PATH]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-shared                                               Enable cache sharing between runners. [$CACHE_SHARED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-server-address value                              A host:port to the used S3-compatible server [$CACHE_S3_SERVER_ADDRESS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-access-key value                                  S3 Access Key [$CACHE_S3_ACCESS_KEY]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-secret-key value                                  S3 Secret Key [$CACHE_S3_SECRET_KEY]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-bucket-name value                                 Name of the bucket where cache will be stored [$CACHE_S3_BUCKET_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-bucket-location value                             Name of S3 region [$CACHE_S3_BUCKET_LOCATION]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-s3-insecure                                          Use insecure mode (without https) [$CACHE_S3_INSECURE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-gcs-access-id value                                  ID of GCP Service Account used to access the storage [$CACHE_GCS_ACCESS_ID]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-gcs-private-key value                                Private key used to sign GCS requests [$CACHE_GCS_PRIVATE_KEY]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-gcs-credentials-file value                           File with GCP credentials, containing AccessID and PrivateKey [$GOOGLE_APPLICATION_CREDENTIALS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --cache-gcs-bucket-name value                                Name of the bucket where cache will be stored [$CACHE_GCS_BUCKET_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-idle-nodes value                                   Maximum idle machines (default: &#34;0&#34;) [$MACHINE_IDLE_COUNT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-idle-time value                                    Minimum time after node can be destroyed (default: &#34;0&#34;) [$MACHINE_IDLE_TIME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-max-builds value                                   Maximum number of builds processed by machine (default: &#34;0&#34;) [$MACHINE_MAX_BUILDS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-machine-driver value                               The driver to use when creating machine [$MACHINE_DRIVER]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-machine-name value                                 The template for machine name (needs to include %s) [$MACHINE_NAME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-machine-options value                              Additional machine creation options [$MACHINE_OPTIONS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-off-peak-periods value                             Time periods when the scheduler is in the OffPeak mode [$MACHINE_OFF_PEAK_PERIODS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-off-peak-timezone value                            Timezone for the OffPeak periods (defaults to Local) [$MACHINE_OFF_PEAK_TIMEZONE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-off-peak-idle-count value                          Maximum idle machines when the scheduler is in the OffPeak mode (default: &#34;0&#34;) [$MACHINE_OFF_PEAK_IDLE_COUNT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --machine-off-peak-idle-time value                           Minimum time after machine can be destroyed when the scheduler is in the OffPeak mode (default: &#34;0&#34;) [$MACHINE_OFF_PEAK_IDLE_TIME]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-host value                                      Optional Kubernetes master host URL (auto-discovery attempted if not specified) [$KUBERNETES_HOST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-cert-file value                                 Optional Kubernetes master auth certificate [$KUBERNETES_CERT_FILE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-key-file value                                  Optional Kubernetes master auth private key [$KUBERNETES_KEY_FILE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-ca-file value                                   Optional Kubernetes master auth ca certificate [$KUBERNETES_CA_FILE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-bearer_token_overwrite_allowed                  Bool to authorize builds to specify their own bearer token for creation. [$KUBERNETES_BEARER_TOKEN_OVERWRITE_ALLOWED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-bearer_token value                              Optional Kubernetes service account token used to start build pods. [$KUBERNETES_BEARER_TOKEN]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-image value                                     Default docker image to use for builds when none is specified [$KUBERNETES_IMAGE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-namespace value                                 Namespace to run Kubernetes jobs in [$KUBERNETES_NAMESPACE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-namespace_overwrite_allowed value               Regex to validate &#39;</span>KUBERNETES_NAMESPACE_OVERWRITE<span class="s1">&#39; value [$KUBERNETES_NAMESPACE_OVERWRITE_ALLOWED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-privileged                                      Run all containers with the privileged flag enabled [$KUBERNETES_PRIVILEGED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-cpu-limit value                                 The CPU allocation given to build containers [$KUBERNETES_CPU_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-memory-limit value                              The amount of memory allocated to build containers [$KUBERNETES_MEMORY_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service-cpu-limit value                         The CPU allocation given to build service containers [$KUBERNETES_SERVICE_CPU_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service-memory-limit value                      The amount of memory allocated to build service containers [$KUBERNETES_SERVICE_MEMORY_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-helper-cpu-limit value                          The CPU allocation given to build helper containers [$KUBERNETES_HELPER_CPU_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-helper-memory-limit value                       The amount of memory allocated to build helper containers [$KUBERNETES_HELPER_MEMORY_LIMIT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-cpu-request value                               The CPU allocation requested for build containers [$KUBERNETES_CPU_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-memory-request value                            The amount of memory requested from build containers [$KUBERNETES_MEMORY_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service-cpu-request value                       The CPU allocation requested for build service containers [$KUBERNETES_SERVICE_CPU_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service-memory-request value                    The amount of memory requested for build service containers [$KUBERNETES_SERVICE_MEMORY_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-helper-cpu-request value                        The CPU allocation requested for build helper containers [$KUBERNETES_HELPER_CPU_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-helper-memory-request value                     The amount of memory requested for build helper containers [$KUBERNETES_HELPER_MEMORY_REQUEST]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pull-policy value                               Policy for if/when to pull a container image (never, if-not-present, always). The cluster default will be used if not set [$KUBERNETES_PULL_POLICY]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-node-selector value                             A toml table/json object of key=value. Value is expected to be a string. When set this will create pods on k8s nodes that match all the key=value pairs. (default: &#34;{}&#34;) [$KUBERNETES_NODE_SELECTOR]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-node-tolerations value                          A toml table/json object of key=value:effect. Value and effect are expected to be strings. When set, pods will tolerate the given taints. Only one toleration is supported through environment variable configuration. (default: &#34;{}&#34;) [$KUBERNETES_NODE_TOLERATIONS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-image-pull-secrets value                        A list of image pull secrets that are used for pulling docker image [$KUBERNETES_IMAGE_PULL_SECRETS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-helper-image value                              [ADVANCED] Override the default helper image used to clone repos and upload artifacts [$KUBERNETES_HELPER_IMAGE]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-terminationGracePeriodSeconds value             Duration after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. (default: &#34;0&#34;) [$KUBERNETES_TERMINATIONGRACEPERIODSECONDS]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-poll-interval value                             How frequently, in seconds, the runner will poll the Kubernetes pod it has just created to check its status (default: &#34;0&#34;) [$KUBERNETES_POLL_INTERVAL]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-poll-timeout value                              The total amount of time, in seconds, that needs to pass before the runner will timeout attempting to connect to the pod it has just created (useful for queueing more builds that the cluster can handle at a time) (default: &#34;0&#34;) [$KUBERNETES_POLL_TIMEOUT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-labels value                                A toml table/json object of key-value. Value is expected to be a string. When set, this will create pods with the given pod labels. Environment variables will be substituted for values here. (default: &#34;{}&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service-account value                           Executor pods will use this Service Account to talk to kubernetes API [$KUBERNETES_SERVICE_ACCOUNT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-service_account_overwrite_allowed value         Regex to validate &#39;</span>KUBERNETES_SERVICE_ACCOUNT<span class="s1">&#39; value [$KUBERNETES_SERVICE_ACCOUNT_OVERWRITE_ALLOWED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-annotations value                           A toml table/json object of key-value. Value is expected to be a string. When set, this will create pods with the given annotations. Can be overwritten in build with KUBERNETES_POD_ANNOTATION_* variables (default: &#34;{}&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod_annotations_overwrite_allowed value         Regex to validate &#39;</span>KUBERNETES_POD_ANNOTATIONS_*<span class="s1">&#39; values [$KUBERNETES_POD_ANNOTATIONS_OVERWRITE_ALLOWED]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-security-context-fs-group value             A special supplemental group that applies to all containers in a pod [$KUBERNETES_POD_SECURITY_CONTEXT_FS_GROUP]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-security-context-run-as-group value         The GID to run the entrypoint of the container process [$KUBERNETES_POD_SECURITY_CONTEXT_RUN_AS_GROUP]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-security-context-run-as-non-root value      Indicates that the container must run as a non-root user [$KUBERNETES_POD_SECURITY_CONTEXT_RUN_AS_NON_ROOT]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-security-context-run-as-user value          The UID to run the entrypoint of the container process [$KUBERNETES_POD_SECURITY_CONTEXT_RUN_AS_USER]
</span></span></span><span class="line"><span class="cl"><span class="s1">   --kubernetes-pod-security-context-supplemental-groups value  A list of groups applied to the first process run in each container, in addition to the container&#39;</span>s primary GID
</span></span><span class="line"><span class="cl">   --kubernetes-services value                                  Add service that is started with container
</span></span><span class="line"><span class="cl">   --custom-config-exec value                                   Executable that allows to inject configuration values to the executor <span class="o">[</span><span class="nv">$CUSTOM_CONFIG_EXEC</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-config-args value                                   Arguments <span class="k">for</span> the config executable
</span></span><span class="line"><span class="cl">   --custom-config-exec-timeout value                           Timeout <span class="k">for</span> the config executable <span class="o">(</span>in seconds<span class="o">)</span> <span class="o">[</span><span class="nv">$CUSTOM_CONFIG_EXEC_TIMEOUT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-prepare-exec value                                  Executable that prepares executor <span class="o">[</span><span class="nv">$CUSTOM_PREPARE_EXEC</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-prepare-args value                                  Arguments <span class="k">for</span> the prepare executable
</span></span><span class="line"><span class="cl">   --custom-prepare-exec-timeout value                          Timeout <span class="k">for</span> the prepare executable <span class="o">(</span>in seconds<span class="o">)</span> <span class="o">[</span><span class="nv">$CUSTOM_PREPARE_EXEC_TIMEOUT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-run-exec value                                      Executable that runs the job script in executor <span class="o">[</span><span class="nv">$CUSTOM_RUN_EXEC</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-run-args value                                      Arguments <span class="k">for</span> the run executable
</span></span><span class="line"><span class="cl">   --custom-cleanup-exec value                                  Executable that cleanups after executor run <span class="o">[</span><span class="nv">$CUSTOM_CLEANUP_EXEC</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-cleanup-args value                                  Arguments <span class="k">for</span> the cleanup executable
</span></span><span class="line"><span class="cl">   --custom-cleanup-exec-timeout value                          Timeout <span class="k">for</span> the cleanup executable <span class="o">(</span>in seconds<span class="o">)</span> <span class="o">[</span><span class="nv">$CUSTOM_CLEANUP_EXEC_TIMEOUT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-graceful-kill-timeout value                         Graceful timeout <span class="k">for</span> scripts execution after SIGTERM is sent to the process <span class="o">(</span>in seconds<span class="o">)</span>. This limits the <span class="nb">time</span> given <span class="k">for</span> scripts to perform the cleanup before exiting <span class="o">[</span><span class="nv">$CUSTOM_GRACEFUL_KILL_TIMEOUT</span><span class="o">]</span>
</span></span><span class="line"><span class="cl">   --custom-force-kill-timeout value                            Force timeout <span class="k">for</span> scripts execution <span class="o">(</span>in seconds<span class="o">)</span>. Counted from the force <span class="nb">kill</span> call<span class="p">;</span> <span class="k">if</span> process will be not terminated, Runner will abandon process termination and log an error <span class="o">[</span><span class="nv">$CUSTOM_FORCE_KILL_TIMEOUT</span><span class="o">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="docker-runneræ‰§è¡Œå™¨">Docker runneræ‰§è¡Œå™¨</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ZeyangdeMacBook-Pro:~ zeyang$ gitlab-runner register
</span></span><span class="line"><span class="cl">Runtime platform                                    <span class="nv">arch</span><span class="o">=</span>amd64 <span class="nv">os</span><span class="o">=</span>darwin <span class="nv">pid</span><span class="o">=</span><span class="m">92353</span> <span class="nv">revision</span><span class="o">=</span>ac8e767a <span class="nv">version</span><span class="o">=</span>12.6.0
</span></span><span class="line"><span class="cl">WARNING: Running in user-mode.
</span></span><span class="line"><span class="cl">WARNING: Use sudo <span class="k">for</span> system-mode:
</span></span><span class="line"><span class="cl">WARNING: $ sudo gitlab-runner...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci coordinator URL <span class="o">(</span>e.g. https://gitlab.com/<span class="o">)</span>:
</span></span><span class="line"><span class="cl">http://gitlab.devops.com/
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci token <span class="k">for</span> this runner:
</span></span><span class="line"><span class="cl">RjAoLah8Vp7JCGyNzZwf
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci description <span class="k">for</span> this runner:
</span></span><span class="line"><span class="cl"><span class="o">[</span>ZeyangdeMacBook-Pro.local<span class="o">]</span>: <span class="nb">test</span>
</span></span><span class="line"><span class="cl">Please enter the gitlab-ci tags <span class="k">for</span> this runner <span class="o">(</span>comma separated<span class="o">)</span>:
</span></span><span class="line"><span class="cl">docker
</span></span><span class="line"><span class="cl">Registering runner... succeeded                     <span class="nv">runner</span><span class="o">=</span>RjAoLah8
</span></span><span class="line"><span class="cl">Please enter the executor: virtualbox, docker-ssh, parallels, shell, ssh, kubernetes, custom, docker, docker+machine, docker-ssh+machine:
</span></span><span class="line"><span class="cl">docker
</span></span><span class="line"><span class="cl">Please enter the default Docker image <span class="o">(</span>e.g. ruby:2.6<span class="o">)</span>:
</span></span><span class="line"><span class="cl">maven:3.6.3-jdk-8
</span></span><span class="line"><span class="cl">Runner registered successfully. Feel free to start it, but <span class="k">if</span> it<span class="err">&#39;</span>s running already the config should be automatically reloaded!
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="4gitlab-runnerå‘½ä»¤">4ã€GitLab Runnerå‘½ä»¤</h1>
<p>GitLab RunneråŒ…å«ä¸€ç»„å‘½ä»¤ï¼Œå¯ç”¨äºæ³¨å†Œï¼Œç®¡ç†å’Œè¿è¡Œæ„å»ºã€‚</p>
<h2 id="å¯åŠ¨å‘½ä»¤">å¯åŠ¨å‘½ä»¤</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gitlab-runner --debug &lt;command&gt;   <span class="c1">#è°ƒè¯•æ¨¡å¼æ’æŸ¥é”™è¯¯ç‰¹åˆ«æœ‰ç”¨ã€‚</span>
</span></span><span class="line"><span class="cl">gitlab-runner &lt;command&gt; --help    <span class="c1">#è·å–å¸®åŠ©ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">gitlab-runner run       <span class="c1">#æ™®é€šç”¨æˆ·æ¨¡å¼  é…ç½®æ–‡ä»¶ä½ç½® ~/.gitlab-runner/config.toml</span>
</span></span><span class="line"><span class="cl">sudo gitlab-runner run  <span class="c1"># è¶…çº§ç”¨æˆ·æ¨¡å¼  é…ç½®æ–‡ä»¶ä½ç½®/etc/gitlab-runner/config.toml</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ³¨å†Œå‘½ä»¤">æ³¨å†Œå‘½ä»¤</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gitlab-runner register  <span class="c1">#é»˜è®¤äº¤äº’æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œéäº¤äº’æ¨¡å¼æ·»åŠ  --non-interactive</span>
</span></span><span class="line"><span class="cl">gitlab-runner list      <span class="c1">#æ­¤å‘½ä»¤åˆ—å‡ºäº†ä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¿è¡Œç¨‹åº</span>
</span></span><span class="line"><span class="cl">gitlab-runner verify    <span class="c1">#æ­¤å‘½ä»¤æ£€æŸ¥æ³¨å†Œçš„runneræ˜¯å¦å¯ä»¥è¿æ¥ï¼Œä½†ä¸éªŒè¯GitLabæœåŠ¡æ˜¯å¦æ­£åœ¨ä½¿ç”¨runnerã€‚ --delete åˆ é™¤</span>
</span></span><span class="line"><span class="cl">gitlab-runner unregister   <span class="c1">#è¯¥å‘½ä»¤ä½¿ç”¨GitLabå–æ¶ˆå·²æ³¨å†Œçš„runnerã€‚</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#ä½¿ç”¨ä»¤ç‰Œæ³¨é”€</span>
</span></span><span class="line"><span class="cl">gitlab-runner unregister --url http://gitlab.example.com/ --token t0k3n
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#ä½¿ç”¨åç§°æ³¨é”€ï¼ˆåŒååˆ é™¤ç¬¬ä¸€ä¸ªï¼‰</span>
</span></span><span class="line"><span class="cl">gitlab-runner unregister --name test-runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#æ³¨é”€æ‰€æœ‰</span>
</span></span><span class="line"><span class="cl">gitlab-runner unregister --all-runners
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æœåŠ¡ç®¡ç†">æœåŠ¡ç®¡ç†</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">gitlab-runner install --user<span class="o">=</span>gitlab-runner --working-directory<span class="o">=</span>/home/gitlab-runner
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># --useræŒ‡å®šå°†ç”¨äºæ‰§è¡Œæ„å»ºçš„ç”¨æˆ·</span>
</span></span><span class="line"><span class="cl"><span class="c1">#`--working-directory  æŒ‡å®šå°†ä½¿ç”¨**Shell** executor è¿è¡Œæ„å»ºæ—¶æ‰€æœ‰æ•°æ®å°†å­˜å‚¨åœ¨å…¶ä¸­çš„æ ¹ç›®å½•</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">gitlab-runner uninstall <span class="c1">#è¯¥å‘½ä»¤åœæ­¢è¿è¡Œå¹¶ä»æœåŠ¡ä¸­å¸è½½GitLab Runnerã€‚</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">gitlab-runner start     <span class="c1">#è¯¥å‘½ä»¤å¯åŠ¨GitLab RunneræœåŠ¡ã€‚</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">gitlab-runner stop      <span class="c1">#è¯¥å‘½ä»¤åœæ­¢GitLab RunneræœåŠ¡ã€‚</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">gitlab-runner restart   <span class="c1">#è¯¥å‘½ä»¤å°†åœæ­¢ï¼Œç„¶åå¯åŠ¨GitLab RunneræœåŠ¡ã€‚</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">gitlab-runner status <span class="c1">#æ­¤å‘½ä»¤æ˜¾ç¤ºGitLab RunneræœåŠ¡çš„çŠ¶æ€ã€‚å½“æœåŠ¡æ­£åœ¨è¿è¡Œæ—¶ï¼Œé€€å‡ºä»£ç ä¸ºé›¶ï¼›è€Œå½“æœåŠ¡æœªè¿è¡Œæ—¶ï¼Œé€€å‡ºä»£ç ä¸ºéé›¶ã€‚</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="5è¿è¡Œæµæ°´çº¿ä»»åŠ¡">5ã€è¿è¡Œæµæ°´çº¿ä»»åŠ¡</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">stages:
</span></span><span class="line"><span class="cl">  - build
</span></span><span class="line"><span class="cl">  - deploy
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">build:
</span></span><span class="line"><span class="cl">  stage: build
</span></span><span class="line"><span class="cl">  tags:
</span></span><span class="line"><span class="cl">    - build
</span></span><span class="line"><span class="cl">  only:
</span></span><span class="line"><span class="cl">    - master
</span></span><span class="line"><span class="cl">  script:
</span></span><span class="line"><span class="cl">    - <span class="nb">echo</span> <span class="s2">&#34;mvn clean &#34;</span>
</span></span><span class="line"><span class="cl">    - <span class="nb">echo</span> <span class="s2">&#34;mvn install&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">deploy:
</span></span><span class="line"><span class="cl">  stage: deploy
</span></span><span class="line"><span class="cl">  tags:
</span></span><span class="line"><span class="cl">    - deploy
</span></span><span class="line"><span class="cl">  only:
</span></span><span class="line"><span class="cl">    - master
</span></span><span class="line"><span class="cl">  script:
</span></span><span class="line"><span class="cl">    - <span class="nb">echo</span> <span class="s2">&#34;hello deploy&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/../../image/bae8bdaac3e543f29599f932ce789448.png"
	
	
	
	loading="lazy"
	
	
></p>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/gitlab/">gitlab</a>
        
            <a href="/tags/%E8%BF%90%E7%BB%B4/">è¿ç»´</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>æœªæ¥çš„ä½ ï¼Œä¼šæ„Ÿè°¢ä»Šå¤©ä»åœ¨åŠªåŠ›å¥‹æ–—çš„ä½ </span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/202405241437/">
        
        
            <div class="article-image">
                
                    <img src="/../../title_pic/45.jpg" loading="lazy" data-key="202405241437" data-hash="/../../title_pic/45.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">è‡ªåŠ¨åŒ–é‡ç½®æ•°æ®åº“åŠŸèƒ½çš„æ¢ç´¢ä¸å®è·µ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/202404101725/">
        
        
            <div class="article-image">
                
                    <img src="/../../title_pic/67.jpg" loading="lazy" data-key="202404101725" data-hash="/../../title_pic/67.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Nginxæ—¥å¿—æ ¼å¼åŒ–å’Œè¿½è¸ª</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/202306121120/">
        
        
            <div class="article-image">
                
                    <img src="/../../title_pic/12.jpg" loading="lazy" data-key="202306121120" data-hash="/../../title_pic/12.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å®ç°æ— é—´æ–­çš„è‡ªåŠ¨åŒ–ï¼šJenkinsä¸GitLabçš„å®šæ—¶ä»»åŠ¡å·¥ä½œæµç¨‹</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/202303151928/">
        
        
            <div class="article-image">
                
                    <img src="/../../title_pic/22.jpg" loading="lazy" data-key="202303151928" data-hash="/../../title_pic/22.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SpringBootï¼ˆå¾®æœåŠ¡ï¼‰æ³¨å†Œåˆ†å¸ƒå¼Consul</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/202504272248/">
        
        
            <div class="article-image">
                
                    <img src="/../../title_pic/46.jpg" loading="lazy" data-key="202504272248" data-hash="/../../title_pic/46.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Harbor2.0ä»“åº“é•œåƒæ¸…ç†ç­–ç•¥</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="nangongchengfeng/nangongchengfeng.github.io"
    data-repo-id="R_kgDOIwWL4Q"
    data-category="Announcements"
    data-category-id="DIC_kwDOIwWL4c4Cg8Rs"
    data-mapping="title"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('dark_dimmed');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2018 - 
        
        2025 å—å®«ä¹˜é£
    </section>
    
    <section class="powerby">
        
            <a href="https://beian.miit.gov.cn/" target="_blank">å¤‡æ¡ˆå·</a> <a href="https://beian.miit.gov.cn/" target="_blank">é™•ICPå¤‡2021004364å·-1</a> <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
